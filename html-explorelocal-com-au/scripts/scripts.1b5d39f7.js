"use strict";angular.module("angularBoilerplateApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/entry/:entryId",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterCtrl",controllerAs:"register"}).when("/register/entry/:entryId",{templateUrl:"views/register.html",controller:"RegisterCtrl",controllerAs:"register"}).otherwise({redirectTo:"/"})}]),angular.module("angularBoilerplateApp").controller("LoaderCtrl",["$scope",function(a){a.loader={},a.loader.loaded=!0,console.log("LoaderCtrl")}]),angular.module("angularBoilerplateApp").controller("MainCtrl",["$scope","$location","$rootScope","$window",function(a,b,c,d){a.openRegistration=function(){a.trackActivity("Lead");var b=window.open("https://www.surveymonkey.com/r/7Z59VHR","_blank");b.focus()},a.trackActivity=function(a){var c="organic",e=b.path().split("/");b.path().indexOf("entry")>-1&&(c=e[e.length-1]),d.ga("send","pageview",c+"/"+a),console.log("google analytics: "+c+"/"+a),d.fbq("track",a),console.log("FB analytics: "+a)},a.transitionIn=!0;var e=this;e.yOffset=50,e.waypointAddTransitionInClass="waypointTransitionIn",e.waypointElements=document.getElementsByClassName("waypoint-trigger"),e.isTouchDevice=function(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}},e.isTouchDeviceOn=e.isTouchDevice(),e.browserHeight=0,"number"==typeof window.innerWidth?e.browserHeight=window.innerHeight:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)&&(e.browserHeight=document.documentElement.clientHeight),e.detectWaypoint=function(){for(e.wi=0,e.wi=0;e.wi<e.waypointElements.length;e.wi++)e.curElement=e.waypointElements[e.wi],e.curElement.topDetector=e.getElementOffset(e.curElement).top,(e.curElement.topDetector-e.browserHeight+e.yOffset<0&&!e.curElement.initiated||e.isTouchDeviceOn&&!e.curElement.initiated)&&(e.curElement.initiated=!0,e.curElement.className=e.curElement.className+" "+e.waypointAddTransitionInClass,console.log("waypoint",e.curElement))},e.getElementOffset=function(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}},window.onscroll=function(){e.detectWaypoint()},angular.element(document).ready(function(){e.detectWaypoint()}),a.$on("$destroy",function(){window.onscroll=null})}]),angular.module("angularBoilerplateApp").controller("AboutCtrl",["$scope",function(a){console.log("AboutCtrl"),a.bodyCopy="hello world",a.transitionIn=!0}]),angular.module("angularBoilerplateApp").controller("NavigationCtrl",["$scope","$location","$rootScope","$window",function(a,b,c,d){var e=b.path(),f=e.split("/");a.homeURL="",(f[1]||f[2])&&(console.log(1),"entry"===f[1]?(console.log(2),a.entryId="/entry/"+f[2],console.log("bah: "+a.entryId)):"entry"===f[2]&&(console.log(3),a.entryId="/entry/"+f[3],console.log("bah: "+a.entryId))),""===a.entryId?a.homeURL="#/":a.homeURL="#"+a.entryId,d.ga("create","UA-80818524-1","auto"),a.openRegistration=function(){a.trackActivity("Lead");var b=window.open("https://www.surveymonkey.com/r/7Z59VHR","_blank");b.focus()},a.trackActivity=function(a){var c="organic",e=b.path().split("/");b.path().indexOf("entry")>-1&&(c=e[e.length-1]),d.ga("send","pageview",c+"/"+a),console.log("google analytics: "+c+"/"+a),d.fbq("track",a),console.log("FB analytics: "+a)},a.trackActivity("ViewContent"),console.log("NavigationCtrl")}]),angular.module("angularBoilerplateApp").controller("WaypointCtrl",["$scope",function(a){console.log("WaypointCtrl"),a.bodyCopy="hello world",a.transitionIn=!0;var b=this;b.yOffset=50,b.waypointAddTransitionInClass="waypointTransitionIn",b.waypointElements=document.getElementsByClassName("waypoint-trigger"),b.isTouchDevice=function(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}},b.isTouchDeviceOn=b.isTouchDevice(),b.browserHeight=0,"number"==typeof window.innerWidth?b.browserHeight=window.innerHeight:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)&&(b.browserHeight=document.documentElement.clientHeight),b.detectWaypoint=function(){for(b.wi=0,b.wi=0;b.wi<b.waypointElements.length;b.wi++)b.curElement=b.waypointElements[b.wi],b.curElement.topDetector=b.getElementOffset(b.curElement).top,(b.curElement.topDetector-b.browserHeight+b.yOffset<0&&!b.curElement.initiated||b.isTouchDeviceOn&&!b.curElement.initiated)&&(b.curElement.initiated=!0,b.curElement.className=b.curElement.className+" "+b.waypointAddTransitionInClass,console.log("waypoint",b.curElement))},b.getElementOffset=function(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}},window.onscroll=function(){b.detectWaypoint()},angular.element(document).ready(function(){b.detectWaypoint()}),a.$on("$destroy",function(){window.onscroll=null})}]),angular.module("angularBoilerplateApp").controller("GalleryCtrl",["$scope","$http",function(a,b){a.items=null,a.loadingStatus="loading",b.get("http://cosmosis-api.com/api/service/data/format/jsonp/?project_name=SummerAtTarget&project_password=6CB4816A23A965B5DFD58E45F4C23&table=unique_references&batch=1&batchSize=6&whereConditionArray=project_id||9&select=*&orderBy=vote_count||desc&callback=?").success(function(b){a.items=JSON.parse(b.substring(1,b.length-1).substr(1)),a.loadingStatus="loaded",console.log(a.items)}).error(function(){a.loadingStatus="error"})}]),angular.module("angularBoilerplateApp").controller("RegisterCtrl",["$scope","$location",function(a,b){console.log("RegisterCtrl"),a.bodyCopy="hello world",a.transitionIn=!0;var c=b.path(),d=c.split("/");a.entryId="",(d[1]||d[2])&&(console.log(1),"entry"===d[1]?(console.log(2),a.entryId="/entry/"+d[2],console.log(a.entryId)):"entry"===d[2]&&(console.log(3),a.entryId="/entry/"+d[3],console.log(a.entryId)))}]),angular.module("angularBoilerplateApp").run(["$templateCache",function(a){a.put("views/about.html",'<div class="container"> <div class="about" ng-class="{transitionIn: transitionIn}"> <h1>About</h1> <p> {{bodyCopy}} </p> </div> </div>'),a.put("views/gallery.html",'<div class="container"> <div class="gallery" ng-class="{transitionIn: transitionIn}"> <h1>Gallery</h1> <div class="loaded" ng-show="loadingStatus == \'loading\'"> <p> loading... </p> </div> <div class="loaded" ng-show="loadingStatus == \'error\'"> <p> oops, something went wrong. try refreshing the page. </p> </div> <div class="loaded" ng-show="loadingStatus == \'loaded\'"> <div class="item" ng-repeat="item in items track by $index"> <div class="row"> <div class="four columns"> <img class="u-max-full-width" ng-src="{{item.uploaded_images[0].uploaded_image_path_500}}"> </div> <div class="eight columns"> <p> {{item.page_title}} </p> </div> </div> </div> </div> </div> </div>'),a.put("views/main.html",'<div class="row introduction"> <div class="container"> <div class="twelve column value"> <div class="image-wrapper"> <img src="assets/images/intro.png" alt="community illustration" class="u-max-full-width"> </div> <h1>Find out about what’s happening in and around your area</h1> <a class="button button-primary" ng-click="openRegistration()">Get started</a> </div> </div> </div> <div class="row panel panel-one"> <div class="container waypoint-trigger"> <div class="two-thirds column value"> <div class="image-wrapper"> <img src="assets/images/1st_panel.png" alt="sporting illustration" class="u-max-full-width"> </div> </div> <div class="one-third column value"> <h1> Find people with a common interest </h1> <p> <ul> <li>Sporting clubs</li> <li>Social clubs</li> <li>Conservation groups</li> <li>Parent groups</li> </ul> </p> </div> </div> </div> <div class="row panel panel-two"> <div class="container waypoint-trigger"> <div class="twelve column value"> <h1>Local Recommendations</h1> <p> Find and share those hard to find trades and services <ul> <li>Tradies</li> <li>Babysitters</li> <li>Dog walkers</li> <li>Share accommodation</li> </ul> </p><p> </p></div> </div> </div> <div class="row panel panel-three"> <div class="container waypoint-trigger"> <div class="five columns value"> <h1>Know the essentials of living in your area</h1> <p> <ul> <li>Bin nights</li> <li>Planning applications</li> <li>Council elections and consultation</li> <li>Report a traffic issue or nuisance to the council</li> <li>Lost and found</li> <li>Road and traffic disruptions</li> <li>Vaccinations</li> <li>Maternal health information</li> </ul> </p><p> </p></div> <div class="seven columns value"> <div class="image-wrapper"> <img src="assets/images/3rd_panel.png" alt="garbage bin illustration" class="u-max-full-width"> </div> </div> </div> </div> <div class="row panel panel-four"> <div class="container waypoint-trigger"> <div class="twelve column value"> <h1>Never miss an event</h1> <p> Find out about fetes, fairs, markets, classes, garage sales, community street parties and local sales. Tailor events and activities notifications to you. </p><p> <div class="image-wrapper"> <img src="assets/images/4th_panel.png" alt="calendar illustration" class="u-max-full-width"> </div> </p></div> </div> </div> <div class="row panel panel-five"> <div class="container waypoint-trigger"> <div class="two-thirds column value"> <div class="image-wrapper"> <img src="assets/images/5th_panel.png" alt="crime illustration" class="u-max-full-width"> </div> </div> <div class="one-third column value"> <h1>Crime and Safety</h1> <p> Stay informed about urgent alerts and crime updates. <ul> <li>Local police updates</li> <li>Report a suspicious event</li> </ul> </p><p> </p></div> </div> </div> <div class="row panel panel-six"> <div class="container waypoint-trigger"> <div class="five columns value"> <h1>Sell and Share</h1> <p> Safely and easily share, sell and buy anything with members of your community <ul> <li>Bikes</li> <li>Tools</li> <li>Electronics</li> <li>Cars</li> <li>Clothes</li> </ul> </p><p> </p></div> <div class="seven columns value"> <div class="image-wrapper"> <img src="assets/images/6th_panel.png" alt="market illustration" class="u-max-full-width"> </div> </div> </div> </div> <div class="row panel panel-seven"> <div class="container waypoint-trigger"> <div class="twelve column value"> <h1>Receive updates when ExploreLocal is ready to use</h1> <a class="button button-primary" ng-click="openRegistration()">More info</a> </div> </div> </div>'),a.put("views/register.html",'<div class="register-bg" ng-class="{transitionIn: transitionIn}"> <div class="container"> <div class="register"> <div class="two columns value"> &nbsp; </div> <div class="eight columns value"> <div class="top-wrapper"> <p> Stay updated. We’re still building our website so we’re not quite ready. To help us make it great, please let us know what’s important to you. </p> <hr> </div> <span class="entryId">{{entryId}}</span> <div id="cosmos-form-wrapper">Loading form...</div> <script type="text/javascript">$(document).ready(function () {\n                    var _cosmosProjectName        = "explorelocalinterest";\n                    var _cosmosProjectPassword    = "9fd44e6fa93a13a32e5a607d8e3f5863";\n                    var _cosmosFormWrapper        = "#cosmos-form-wrapper";\n                    var _cosmosModuleName       = "primary";\n\n                    // sets up the upload details\n                    var _cosmosForm = new Cosmos.Data.newForm();\n                    _cosmosForm.defineProjectSettings(_cosmosProjectName, _cosmosProjectPassword, true);\n                    _cosmosForm.setupForm(_cosmosFormWrapper, {success:formSuccessHandler});\n                    \n                    \n                    function formSuccessHandler(){\n                        console.log(\'form added to page\');\n                    }\n                    \n                    function formCompleteHandler(){\n                        var trackCode = \'CompleteRegistration\';\n                        var entryCode = \'organic\';\n\n                        var path = document.URL;\n\n                        var splitURL = path.split("/");\n                        console.log(path);\n                        console.log(splitURL);\n\n                        if(path.indexOf("entry") > -1){\n                            entryCode = splitURL[splitURL.length-1];\n                        }\n                        ga(\'send\', \'pageview\', entryCode+\'/\'+trackCode);\n                        console.log("google analytics: "+entryCode+\'/\'+trackCode);\n                        fbq(\'track\', trackCode);\n                        console.log("FB analytics: "+trackCode+"");\n                    }\n                    /**/\n\n                    // add form\n                    var delay=1000; \n\n                    setTimeout(function() {\n                        $(".cosmos-field-xxlarge textarea").val($(".entryId").html());\n                        $(".cosmos-field-xxlarge").hide();\n                        \n                        /*\n                        $(".cosmos-field-small").hide();\n                        $(".cosmos-field-small input[name*=\'detail_EmailAddress\']").val("null@null.com");\n                        \n                        $(\'h2\').each(function() {\n                            var text = $(this).text();\n                            $(this).text(text.replace(\'Keep updated! Want to help us with our research? If so, please leave your contact details here and we’ll contact you about setting up an interview.\', \'\')); \n                        });\n\n                        $(".tc").hide();\n                        */\n                       \n                        $(".entryId").hide();\n                        $(".cosmos-item-submit-button").click(function() {formCompleteHandler()});\n                        console.log(\'added: \'+$(".entryId").html());\n                    }, delay);\n                    \n\n                  });</script> </div> <div class="two columns value"> &nbsp; </div> </div> </div> </div>'),a.put("views/waypoint.html",'<div class="container"> <div class="waypoint" ng-class="{transitionIn: transitionIn}"> <h1>waypoint example</h1> <p> {{bodyCopy}} </p> <div class="big-block waypoint-trigger"> </div> <div class="big-block waypoint-trigger"> </div> <div class="big-block waypoint-trigger"> </div> <div class="big-block waypoint-trigger"> </div> <div class="big-block waypoint-trigger"> </div> <div class="big-block waypoint-trigger"> </div> <div class="big-block waypoint-trigger"> </div> <div class="big-block waypoint-trigger"> </div> <div class="big-block waypoint-trigger"> </div> <div class="big-block waypoint-trigger"> </div> <div class="big-block waypoint-trigger"> </div> </div> </div>')}]);